(function(){var e=function(t,n){var r=e.resolve(t,n||"/"),i=e.modules[r];if(!i)throw new Error("Failed to resolve module "+t+", tried "+r);var s=i._cached?i._cached:i();return s};e.paths=[],e.modules={},e.extensions=[".js",".coffee",".ls"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(t,n){function u(t){var n,i;t=r.normalize(t);if(e.modules[t])return t;for(n=0;n<e.extensions.length;n++){i=e.extensions[n];if(e.modules[t+i])return t+i}}function a(t){var n,i,s,o;t=t.replace(/\/+$/,""),n=r.normalize(t+"/package.json");if(e.modules[n]){i=e.modules[n](),s=i.browserify;if(typeof s=="object"&&s.main){o=u(r.resolve(t,s.main));if(o)return o}else if(typeof s=="string"){o=u(r.resolve(t,s));if(o)return o}else if(i.main){o=u(r.resolve(t,i.main));if(o)return o}}return u(t+"/index")}function f(e,t){var n,r,i,s,o=l(t);for(n=0;n<o.length;n++){r=o[n],i=u(r+"/"+e);if(i)return i;s=a(r+"/"+e);if(s)return s}i=u(e);if(i)return i}function l(e){var t,n,i,s;e==="/"?t=[""]:t=r.normalize(e).split("/"),n=[];for(i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;s=t.slice(0,i+1).join("/")+"/node_modules",n.push(s)}return n}var r,i,s,o;n||(n="/");if(e._core[t])return t;r=e.modules.path(),n=r.resolve("/",n),i=n||"/";if(t.match(/^(?:\.\.?\/|\/)/)){s=u(r.resolve(i,t))||a(r.resolve(i,t));if(s)return s}o=f(t,i);if(o)return o;throw new Error("Cannot find module '"+t+"'")}}(),e.alias=function(t,n){var r,i,s,o,u,a=e.modules.path(),f=null;try{f=e.resolve(t+"/package.json","/")}catch(l){f=e.resolve(t,"/")}r=a.dirname(f),i=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(e.modules);for(s=0;s<i.length;s++)o=i[s],o.slice(0,r.length+1)===r+"/"?(u=o.slice(r.length),e.modules[n+u]=e.modules[r+u]):o===r&&(e.modules[n]=e.modules[r])},function(){var t={};e.define=function(n,r){var i,s,o;e.modules.__browserify_process&&(t=e.modules.__browserify_process()),i=e._core[n]?"":e.modules.path().dirname(n),s=function(t){return e(t,i)},s.resolve=function(t){return e.resolve(t,i)},s.modules=e.modules,s.define=e.define,o={exports:{}},e.modules[n]=function(){return e.modules[n]._cached=o.exports,r.call(o.exports,s,o,o.exports,i,n,t),e.modules[n]._cached=o.exports,o.exports}}}(),e.define("path",function(e,t,n,r,i,s){function u(e,t){var n,r=[];for(n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}function a(e,t){var n,r,i=0;for(n=e.length;n>=0;n--)r=e[n],r=="."?e.splice(n,1):r===".."?(e.splice(n,1),i++):i&&(e.splice(n,1),i--);if(t)for(;i--;i)e.unshift("..");return e}var o;o=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/,n.resolve=function(){var e,t,n="",r=!1;for(e=arguments.length;e>=-1&&!r;e--){t=e>=0?arguments[e]:s.cwd();if(typeof t!="string"||!t)continue;n=t+"/"+n,r=t.charAt(0)==="/"}return n=a(u(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=a(u(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(u(e,function(e){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=o.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=o.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o.exec(e)[3]||""}}),e.define("__browserify_process",function(e,t,n,r,i,s){var s=t.exports={};s.nextTick=function(){var e=[],t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){var n;t.source===window&&t.data==="browserify-tick"&&(t.stopPropagation(),e.length>0&&(n=e.shift(),n()))},!0),function(n){t?(e.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";s.cwd=function(){return n},s.chdir=function(r){t||(t=e("path")),n=t.resolve(r,n)}}()}),e.define("/moros/test/utils.ls",function(e){function n(e,t){return e.length>1?function(){var r=t?t.concat():[];return r.push.apply(r,arguments)<e.length&&arguments.length?n.call(this,e,r):e.apply(this,r)}:e}var t=n(function(e,t){return e*t});Describe("{} utils",function(){var n,r=e("moros/src/utils"),i=r.each,s=r.map,o=e("noire").ensure,u=n=null;return beforeEach(function(){return u=sinon.spy(),n=document.getElementById("xs").childNodes}),Describe("λ each",function(){return It("Should curry the arguments.",function(){return o(i(function(){})).type("function"),o(i(function(){},[1])).equals([1])}),It("Should treat non-sequences as a singleton sequence.",function(){return i(u,1),o(u).property("calledOnce").ok()}),It("Should apply the iteratee to each item in the sequence.",function(){return i(u,[1,2,3]),o(u).property("callCount").same(3),o(u.calledWith([1])).ok,o(u.calledWith([2])).ok,o(u.calledWith([3])).ok}),It("Should return the original sequence.",function(){var e=[1,2,3];return o(i(u,u)).same(u),o(i(function(){},e)).same(e),o(i(function(){},n)).same(n)})}),Describe("λ map",function(){return It("Should curry the arguments.",function(){return o(s(function(){})).type("function"),o(s(function(e){return e},[1])).equals([1])}),It("Should treat non-sequences as a singleton sequence.",function(){return o(s(function(e){return e},1)).equals([1])}),It("Should return an array with each item mapped by the functor.",function(){return o(s(t(2),[1,2,3])).equals([2,4,6]),o(s(function(e){return e.nodeName},n)).equals(["#text","A","IMG","IMG","DIV","#text"])})})})}),e.define("/moros/node_modules/moros/src/utils.ls",function(e,t){function c(e,t){return e.length>1?function(){var n=t?t.concat():[];return n.push.apply(n,arguments)<e.length&&arguments.length?c.call(this,e,n):e.apply(this,n)}:e}var n=function(e){return e},r=function(e){return function(){return e}},i=function(e){return e[0]},s=function(e){return e.slice(1)},o=function(e){return e&&e.length>=0},u=function(e){switch(!1){case!o(e):return e;default:return[e]}},a=Function.call.bind([].slice),f=c(function(e,t){var n,r,i;t=u(t);for(n=0,i=t.length;n<i;++n)r=t[n],e(r);return t}),l=c(function(e,t){var n,r,i,s,o=[];for(r=0,s=(i=u(t)).length;r<s;++r)n=i[r],o.push(e(n));return o});t.exports={asSequence:u,toArray:a,head:i,tail:s,id:n,k:r,each:f,map:l}}),e.define("/moros/node_modules/noire/package.json",function(e,t){t.exports={main:"./src/index.js"}}),e.define("/moros/node_modules/noire/src/index.js",function(e,t){e("./matchers"),t.exports=e("./core")}),e.define("/moros/node_modules/noire/src/matchers.js",function(e){function s(e){return{}.toString.call(e).slice(8,-1)}function o(e,t,n){return i(e,n||0).every(t)}function u(e){return o(arguments,function(t){return s(t)==e},1)}function a(e){return o(arguments,function(t){return typeof t==e},1)}function f(){return o(arguments,function(e){return s(e)=="Arguments"})}function l(e){return e instanceof Error}function c(e){return s(e)=="RegExp"}function h(e){return s(e)=="String"}function p(e,t){return e===t||d(e,t)||v(e,t)||m(e,t)||g(e,t)||!1}function d(e,t){return u("Date",e,t)&&e.getTime()===t.getTime()}function v(e,t){return u("RegExp",e,t)&&e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase}function m(e,t){return!a("object",e,t)&&e==t}function g(e,t){var n,s;if(e==null||t==null)return!1;if(e.prototype!==t.prototype)return!1;if(f(e))return f(t)?p(i(e),i(t)):!1;try{n=r(e),s=r(t)}catch(o){return!1}return n.length!==s.length?!1:(n.sort(),s.sort(),n.every(function(e,t){return e==s[t]})&&n.every(function(n,r){return p(e[n],t[s[r]])}))}var t=e("./core").Assertion,n=Array.isArray,r=Object.keys,i=[].slice.call.bind([].slice);t.define("equals","equal {:actual}.",function(e){this.store("actual",e),this.satisfy(function(t){return p(e,t)})}),t.define("same","be {:actual}.",function(e){this.store("actual",e),this.satisfy(function(t){return t===e})}),t.define("exists","exist.",function(){this.satisfy(function(e){return e!==undefined})}),t.define("contains","contain {:value}.",function(e){this.store("value",e),this.satisfy(function(t){return t.indexOf(e)!==-1})}),t.define("ok","be ok.",function(){this.satisfy(function(e){return!!e})}),t.define("empty","be empty.",function(){this.satisfy(function(e){return n(e)?e.length==0:r(e).length==0})}),t.define(["above",">"],"be above {:value}.",function(e){this.store("value",e),this.satisfy(function(t){return t>e})}),t.define(["below","<"],"be below {:value}.",function(e){this.store("value",e),this.satisfy(function(t){return t<e})}),t.define("within","be within {:lower} and {:upper}.",function(e,t){this.store("lower",e),this.store("upper",t),this.satisfy(function(n){return n>=e&&n<=t})}),t.define("throws","throw {:error}.",function(e){this.store("error",l(e)?e.name:e),e||this.describe("throw anything.",!0),this.satisfy(function(t){try{t()}catch(n){return e?h(e)?e==n.name:l(e)?e.name==n.name:c(e)?e.test(n.name):p(e,n):!0}})}),t.define("type","have type {:type}, got {:actual-type} instead.",function(e){this.store("type",e),this.satisfy(function(t){var n=/^[A-Z]/.test(e)?s(t):typeof t;return this.store("actual-type",n),e===n}.bind(this))}),t.define("matches","match the regular expression {:re}.",function(e){this.store("re",e.toString()),this.satisfy(function(t){return e.test(t)})})}),e.define("/moros/node_modules/noire/src/core.js",function(e,t){function o(e,t){return e.slice(0,t.length)==t}function u(e,t){function n(e,n,r){return o(n,"\\")?"{:"+r+"}":r in t?a(t[r]):""}return t=t||{},e.replace(/{(\\?:)([^}]+)}/g,n)}function a(e){return typeof e=="function"?e.name?"[Function: "+e.name+"]":"`"+e.toString()+"`":JSON.stringify(e)}function f(e){var t=Error.call(Object.create(Error.prototype),e);return t.name="AssertionError",t}function l(e){return s.make(e)}var n=e("boo").Base,r=Array.isArray,i=[].slice,s=n.derive({init:function(t){return this._prelude="to",this._message="",this._params={},this._times=100,this.expect(t)},store:function(t,n){return this._params[t]=n,this},expect:function(t){return this._expectation=t,this.store("expected",t),this},describe:function(t,n){return this._message&&!n?this:(this._message=t,this)},message:function(){return u("Expected {:expected} "+this._prelude+" "+this._message,this._params)},define:function(t,n,i){var s=function(){return this.describe(n),i.apply(this,arguments),this};t=r(t)?t:[t],t.forEach(function(e){this[e]=s},this)},satisfy:function(t){this.store("‹satisfy:property›",t),this.describe("satisfy {:‹satisfy:property›}.");if(!this._test(t,this._expectation))throw f(this.message());return this},_test:function(t){return t.apply(null,i.call(arguments,1))},not:function(){var t=this._test;return this._prelude+=" not",this._test=function(){return!t.apply(this,arguments)},this},invoke:function(t){var n=[].slice.call(arguments,1);this.store("‹invoke:method›",t),this.store("‹invoke:args›",n),this._prelude=", when invoking method {:‹invoke:method›} with {:‹invoke:args›} "+this._prelude;var r=this._test;return this._test=function(e){return this._expectation=this._expectation[t].apply(this._expectation,n),this._message+=" Yielded {:‹invoke:result›} instead.",this.store("‹invoke:result›",this._expectation),r.call(this,e,this._expectation)},this},property:function(t){this.store("‹property:name›",t),this._prelude+=" yield a value for the property {:‹property:name›} that should";var n=this._test;return this._test=function(e){return this._expectation=this._expectation[t],this._message+=" Got {:‹property:actual›} instead.",this.store("‹property:actual›",this._expectation),n.call(this,e,this._expectation)},this},all:function(t){function r(e,r){var i=!0,s=0,o,u;while(i&&s++<this._times)o=t.map(function(e){return e()}),u=r.apply(null,o),i=n(e,u);return this.store("‹all:times›",s),this.store("‹all:args›",o),this.store("‹all:result›",u),this._prelude=", given the arguments {:‹all:args›}, "+this._prelude+" yield values that should",this._message+="  Failed after {:‹all:times›} test(s) by yielding {:‹all:result›}",i}var n=this._test;return this._test=r,this}});t.exports={ensure:l,Assertion:s,internal:{make_error:f}}}),e.define("/node_modules/boo/package.json",function(e,t){t.exports={main:"./src/boo.js"}}),e.define("/node_modules/boo/src/boo.js",function(e,t,n){void function(e,t){function o(e){return e!=null&&typeof e.to_data=="function"}function u(e){return o(e)?e.to_data():e}function a(e,t){var n,r,s,o,a,f;for(n=0,s=t.length;n<s;++n){o=u(t[n]),a=i(o);for(r=a.length;r--;)f=a[r],e[f]=o[f]}return e}function f(e){return a(e,r.call(arguments,1))}function l(){return a({},arguments)}function c(e){return a(s(e),r.call(arguments,1))}var n,r=[].slice,i=Object.keys,s=Object.create;n={make:function(){var t=s(this);return typeof t.init=="function"&&t.init.apply(t,arguments),t},derive:function(){return a(s(this),arguments)}},t.extend=f,t.merge=l,t.derive=c,t.Base=n,t.internal={data_obj_p:o,fast_extend:a,resolve_mixin:u}}(this,typeof n=="undefined"?this.boo=this.boo||{}:n)}),e.define("/moros/test/query.ls",function(e){function s(e,t){return e.length>1?function(){var n=t?t.concat():[];return n.push.apply(n,arguments)<e.length&&arguments.length?s.call(this,e,n):e.apply(this,n)}:e}var t,n,r,i=e("noire").ensure;window.require=e,t={"#xs *":5,"#xs a":2,"#xs a[data-boo]":0,'#xs img[data-boo="1"]':1,'#xs img[data-boo="2"]':0,'#xs div[class~="y"]':1,'#xs div[class~="a"]':0,'#xs img[src^="bl"]':2,'#xs img[src^="ah"]':0,'#xs img[src$="ah"]':1,'#xs img[src$="bl"]':0,'#xs img[src*="la"]':1,'#xs img[src*="gb"]':0,'#xs a[lang|="en"]':1,'#xs > a[lang|="pt"]':0},n=s(function(e,n){var r,i,s,o=[];for(r in s=t)i=s[r],o.push(e(n(r)).property("length").same(i));return o}),r=s(function(e,n){var r,i,s,o,u=[];for(r in o=t)i=o[r],s=e(n(r)),i||(s=s.not()),u.push(s.ok());return u}),Describe("{} query <Native>",function(){var t=e("moros/src/query")(),s=t.query,o=t.queryOne;return Describe("λ query",function(){return It("Should return a set of elements.",function(){return i(s("a")).type("Array"),i(s("html")).type("Array"),i(s("*")).type("Array")}),It("Should select elements using CSS selectors.",function(){return n(i,s)}),It("Given a context, should return only elements descending from that context.",function(){return i(s("div",document.getElementById("xs"))).property("length").same(1)})}),Describe("λ query-one",function(){return It("Should return a single element.",function(){return i(o("a")).type("HTMLAnchorElement"),i(o("html")).type("HTMLHtmlElement"),i(o("*")).type("HTMLHtmlElement")}),It("Should select elements using CSS selectors.",function(){return r(i,o)}),It("Given a context, should return only elements descending from that context.",function(){return i(o("a",document.getElementById("xs")).getAttribute("lang")).same("en-gb")})})})}),e.define("/moros/node_modules/moros/src/query.ls",function(e,t){t.exports=function(t){var n=e("./utils").head,r=Function.call.bind([].slice),i=function(e,t){return t==null&&(t=document),r(t.querySelectorAll(e))},s=function(e,t){return t==null&&(t=document),t.querySelector(e)};return t?{query:t,queryOne:function(e,r){return n(t(e,r))}}:{query:i,queryOne:s}}}),e.define("/moros/test/browser/suite.ls",function(e){var t=typeof global!="undefined"&&global!==null?global:window;t.Describe=describe,t.It=it,e("../utils"),e("../query")}),e("/moros/test/browser/suite.ls")})()